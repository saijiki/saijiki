(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-651c9b05"],{"1c3d":function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-container",{attrs:{fluid:""}},[e("v-row",{attrs:{justify:"center"}},[e("v-col",{attrs:{cols:"12",md:"8"}},[e("v-card",[e("v-card-title",[t._v("\n                    プロフィール設定\n                ")]),e("v-card-text",[e("v-list",{attrs:{subheader:""}},[e("v-list-item",[e("v-list-item-content",[e("v-list-item-title",[t._v("\n                                    写真\n                                ")])],1),e("v-list-item-action",{staticClass:"flex-row"},[t.$store.state.data.user.avatar?e("img",{attrs:{height:"28",src:t.$store.state.data.user.avatar,width:"28"}}):t._e(),e("v-btn",{attrs:{small:"",text:""},on:{click:function(i){t.isAvatarEditDialogVisible=!0}}},[t._v("\n                                    編集\n                                ")])],1)],1),e("v-list-item",[e("v-list-item-content",[e("v-list-item-title",[t._v("\n                                    ユーザー名\n                                ")])],1),e("v-list-item-action",{staticClass:"flex-row"},[e("v-btn",{attrs:{small:"",text:""},on:{click:function(i){t.isNameEditDialogVisible=!0}}},[t._v("\n                                    編集\n                                ")])],1)],1),e("v-list-item",[e("v-list-item-content",[e("v-list-item-title",[t._v("\n                                    メールアドレス\n                                ")])],1),e("v-list-item-action",{staticClass:"flex-row"},[e("v-btn",{attrs:{small:"",text:""},on:{click:function(i){t.isEmailEditDialogVisible=!0}}},[t._v("\n                                    編集\n                                ")])],1)],1),e("v-list-item",{attrs:{"two-line":""}},[e("v-list-item-content",[e("v-list-item-title",[t._v("\n                                    パスワード\n                                ")]),e("v-list-item-subtitle",{staticClass:"text-wrap"},[t._v("\n                                    アカウントを保護するため、推測しにくいパスワードを設定してください。\n                                ")])],1),e("v-list-item-action",{staticClass:"flex-row"},[e("v-btn",{attrs:{small:"",text:""},on:{click:function(i){t.isPasswordEditDialogVisible=!0}}},[t._v("\n                                    パスワードの変更\n                                ")])],1)],1)],1)],1)],1)],1)],1),e("v-dialog",{attrs:{persistent:"",width:"512"},model:{value:t.isAvatarEditDialogVisible,callback:function(i){t.isAvatarEditDialogVisible=i},expression:"isAvatarEditDialogVisible"}},[e("form",{on:{submit:function(i){return i.preventDefault(),t.onSubmit(i)}}},[e("v-card",[e("v-card-title",{staticClass:"headline"},[t._v("\n                    写真を編集\n                ")]),e("v-card-text",{staticClass:"pb-0"},[e("v-row",{attrs:{justify:"center"}},[t.imageFileUrl?e("img",{attrs:{height:"192",src:t.imageFileUrl}}):e("v-btn",{attrs:{block:"",color:"success",height:"192",outlined:"",tile:""},on:{click:t.pickFile}},[t._v("\n                            アップロード\n                        ")]),e("input",{staticClass:"d-none",attrs:{accept:".jpg,.jpeg,.png",type:"file"},on:{change:t.onPickFile}})],1)],1),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(i){t.isAvatarEditDialogVisible=!1}}},[t._v("\n                        キャンセル\n                    ")]),e("v-btn",{attrs:{color:"green darken-1",disabled:null===t.imageFileUrl,loading:t.isLoading,text:"",type:"submit"}},[t._v("\n                        編集\n                    ")])],1)],1)],1)]),e("v-dialog",{attrs:{persistent:"",width:"512"},model:{value:t.isNameEditDialogVisible,callback:function(i){t.isNameEditDialogVisible=i},expression:"isNameEditDialogVisible"}},[e("form",{on:{submit:function(i){return i.preventDefault(),t.onSubmit(i)}}},[e("v-card",[e("v-card-title",{staticClass:"headline"},[t._v("\n                    ユーザー名を編集\n                ")]),e("v-card-text",{staticClass:"py-3"},[e("v-text-field",{attrs:{"hide-details":"",label:"ユーザー名",outlined:"",required:"","single-line":""},model:{value:t.name,callback:function(i){t.name=i},expression:"name"}})],1),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(i){t.isNameEditDialogVisible=!1}}},[t._v("\n                        キャンセル\n                    ")]),e("v-btn",{attrs:{color:"green darken-1",loading:t.isLoading,text:"",type:"submit"}},[t._v("\n                        編集\n                    ")])],1)],1)],1)]),e("v-dialog",{attrs:{persistent:"",width:"512"},model:{value:t.isEmailEditDialogVisible,callback:function(i){t.isEmailEditDialogVisible=i},expression:"isEmailEditDialogVisible"}},[e("form",{on:{submit:function(i){return i.preventDefault(),t.onSubmit(i)}}},[e("v-card",[e("v-card-title",{staticClass:"headline"},[t._v("\n                    メールアドレスを編集\n                ")]),e("v-card-text",{staticClass:"py-3"},[e("v-text-field",{attrs:{"hide-details":"",label:"メールアドレス",outlined:"",required:"","single-line":"",type:"email"},model:{value:t.email,callback:function(i){t.email=i},expression:"email"}})],1),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(i){t.isEmailEditDialogVisible=!1}}},[t._v("\n                        キャンセル\n                    ")]),e("v-btn",{attrs:{color:"green darken-1",loading:t.isLoading,text:"",type:"submit"}},[t._v("\n                        編集\n                    ")])],1)],1)],1)]),e("v-dialog",{attrs:{persistent:"",width:"512"},model:{value:t.isPasswordEditDialogVisible,callback:function(i){t.isPasswordEditDialogVisible=i},expression:"isPasswordEditDialogVisible"}},[e("form",{on:{submit:function(i){return i.preventDefault(),t.onSubmit(i)}}},[e("v-card",[e("v-card-title",{staticClass:"headline"},[t._v("\n                    パスワードを変更\n                ")]),e("v-card-text",{staticClass:"py-3"},[e("v-text-field",{attrs:{label:"旧パスワード",outlined:"","single-line":"",type:"password"},model:{value:t.oldPassword,callback:function(i){t.oldPassword=i},expression:"oldPassword"}}),e("v-text-field",{attrs:{counter:"",label:"新パスワード",outlined:"",required:"","single-line":"",type:"password"},model:{value:t.newPassword,callback:function(i){t.newPassword=i},expression:"newPassword"}})],1),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(i){t.isPasswordEditDialogVisible=!1}}},[t._v("\n                        キャンセル\n                    ")]),e("v-btn",{attrs:{color:"green darken-1",loading:t.isLoading,text:"",type:"submit"}},[t._v("\n                        変更\n                    ")])],1)],1)],1)])],1)},a=[],l={data:()=>({isLoading:!1,isAvatarEditDialogVisible:!1,imageFileObj:null,imageFileUrl:null,isNameEditDialogVisible:!1,name:"",isEmailEditDialogVisible:!1,email:"",isPasswordEditDialogVisible:!1,oldPassword:"",newPassword:""}),watch:{isAvatarEditDialogVisible(t){t&&(this.imageFileObj=null,this.imageFileUrl=null,this.name=this.$store.state.data.user.name,this.email=this.$store.state.data.user.email,this.oldPassword="",this.newPassword="")},isNameEditDialogVisible(t){t&&(this.imageFileObj=null,this.imageFileUrl=null,this.name=this.$store.state.data.user.name,this.email=this.$store.state.data.user.email,this.oldPassword="",this.newPassword="")},isEmailEditDialogVisible(t){t&&(this.imageFileObj=null,this.imageFileUrl=null,this.name=this.$store.state.data.user.name,this.email=this.$store.state.data.user.email,this.oldPassword="",this.newPassword="")},isPasswordEditDialogVisible(t){t&&(this.imageFileObj=null,this.imageFileUrl=null,this.name=this.$store.state.data.user.name,this.email=this.$store.state.data.user.email,this.oldPassword="",this.newPassword="")}},methods:{pickFile(){document.querySelector('[type="file"]').click()},onPickFile({target:t}){if(0===t.files.length)return;this.imageFileObj=t.files[0],t.value="";const i=new FileReader;i.addEventListener("load",()=>{this.imageFileUrl=i.result}),i.readAsDataURL(this.imageFileObj)},async onSubmit(){if(!this.isLoading){this.isLoading=!0;try{const{data:t}=await this.$axios.put("/api/users",{image_file_url:this.imageFileUrl,name:this.name,email:this.email,old_password:this.oldPassword,new_password:this.newPassword});this.$store.commit("setData",{token:this.$store.state.data.token,user:t}),this.isAvatarEditDialogVisible=!1,this.isNameEditDialogVisible=!1,this.isEmailEditDialogVisible=!1,this.isPasswordEditDialogVisible=!1}catch({response:{data:t}}){alert(Object.values(t.errors).flat().join("\n"))}finally{this.isLoading=!1}}}}},n=l,r=e("2877"),o=e("6544"),d=e.n(o),c=e("8336"),u=e("b0af"),m=e("99d9"),v=e("62ad"),g=e("a523"),b=e("169a"),f=e("8860"),h=e("da13"),p=e("1800"),w=e("5d23"),V=e("0fd9"),E=e("2fa4"),x=e("8654"),k=Object(r["a"])(n,s,a,!1,null,null,null);i["default"]=k.exports;d()(k,{VBtn:c["a"],VCard:u["a"],VCardActions:m["a"],VCardText:m["b"],VCardTitle:m["c"],VCol:v["a"],VContainer:g["a"],VDialog:b["a"],VList:f["a"],VListItem:h["a"],VListItemAction:p["a"],VListItemContent:w["a"],VListItemSubtitle:w["b"],VListItemTitle:w["c"],VRow:V["a"],VSpacer:E["a"],VTextField:x["a"]})},"62ad":function(t,i,e){"use strict";e("4b85");var s=e("2b0e"),a=e("d9f7"),l=e("80d2");const n=["sm","md","lg","xl"],r=(()=>{return n.reduce((t,i)=>{return t[i]={type:[Boolean,String,Number],default:!1},t},{})})(),o=(()=>{return n.reduce((t,i)=>{return t["offset"+Object(l["v"])(i)]={type:[String,Number],default:null},t},{})})(),d=(()=>{return n.reduce((t,i)=>{return t["order"+Object(l["v"])(i)]={type:[String,Number],default:null},t},{})})(),c={col:Object.keys(r),offset:Object.keys(o),order:Object.keys(d)};function u(t,i,e){let s=t;if(null!=e&&!1!==e){if(i){const e=i.replace(t,"");s+=`-${e}`}return"col"!==t||""!==e&&!0!==e?(s+=`-${e}`,s.toLowerCase()):s.toLowerCase()}}const m=new Map;i["a"]=s["a"].extend({name:"v-col",functional:!0,props:{cols:{type:[Boolean,String,Number],default:!1},...r,offset:{type:[String,Number],default:null},...o,order:{type:[String,Number],default:null},...d,alignSelf:{type:String,default:null,validator:t=>["auto","start","end","center","baseline","stretch"].includes(t)},justifySelf:{type:String,default:null,validator:t=>["auto","start","end","center","baseline","stretch"].includes(t)},tag:{type:String,default:"div"}},render(t,{props:i,data:e,children:s,parent:l}){let n="";for(const a in i)n+=String(i[a]);let r=m.get(n);if(!r){let t;for(t in r=[],c)c[t].forEach(e=>{const s=i[e],a=u(t,e,s);a&&r.push(a)});const e=r.some(t=>t.startsWith("col-"));r.push({col:!e||!i.cols,[`col-${i.cols}`]:i.cols,[`offset-${i.offset}`]:i.offset,[`order-${i.order}`]:i.order,[`align-self-${i.alignSelf}`]:i.alignSelf,[`justify-self-${i.justifySelf}`]:i.justifySelf}),m.set(n,r)}return t(i.tag,Object(a["a"])(e,{class:r}),s)}})}}]);
//# sourceMappingURL=chunk-651c9b05.aa0a5b0e.js.map