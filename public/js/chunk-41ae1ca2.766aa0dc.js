(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-41ae1ca2"],{"0fd9":function(t,e,i){"use strict";i("4b85");var s=i("2b0e"),a=i("d9f7"),n=i("80d2");const l=["sm","md","lg","xl"],o=["start","end","center"];function r(t,e){return l.reduce((i,s)=>{return i[t+Object(n["v"])(s)]=e(),i},{})}const c=t=>[...o,"baseline","stretch"].includes(t),u=r("align",()=>({type:String,default:null,validator:c})),h=t=>[...o,"space-between","space-around"].includes(t),d=r("justify",()=>({type:String,default:null,validator:h})),p=t=>[...o,"space-between","space-around","stretch"].includes(t),f=r("alignContent",()=>({type:String,default:null,validator:p})),g={align:Object.keys(u),justify:Object.keys(d),alignContent:Object.keys(f)},v={align:"align",justify:"justify",alignContent:"align-content"};function m(t,e,i){let s=v[t];if(null!=i){if(e){const i=e.replace(t,"");s+=`-${i}`}return s+=`-${i}`,s.toLowerCase()}}const b=new Map;e["a"]=s["a"].extend({name:"v-row",functional:!0,props:{tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:c},...u,justify:{type:String,default:null,validator:h},...d,alignContent:{type:String,default:null,validator:p},...f},render(t,{props:e,data:i,children:s}){let n="";for(const a in e)n+=String(e[a]);let l=b.get(n);if(!l){let t;for(t in l=[],g)g[t].forEach(i=>{const s=e[i],a=m(t,i,s);a&&l.push(a)});l.push({"no-gutters":e.noGutters,"row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),b.set(n,l)}return t(e.tag,Object(a["a"])(i,{staticClass:"row",class:l}),s)}})},"3ad6":function(t,e,i){"use strict";var s=i("aef7"),a=i.n(s);a.a},8547:function(t,e,i){"use strict";var s=i("2b0e"),a=i("80d2");e["a"]=s["a"].extend({name:"comparable",props:{valueComparator:{type:Function,default:a["i"]}}})},"9d01":function(t,e,i){},a722:function(t,e,i){"use strict";i("20f6");var s=i("e8f2");e["a"]=Object(s["a"])("layout")},aef7:function(t,e,i){},bb51:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{attrs:{"fill-height":""}},[s("v-layout",{attrs:{"align-center":"",column:"","justify-center":""}},[s("img",{staticClass:"logo",attrs:{src:i("cf05"),width:"256"}}),s("v-form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[s("v-text-field",{attrs:{dense:"",flat:"","hide-details":"",label:"キーワード",outlined:"",rounded:"",solo:""},scopedSlots:t._u([{key:"append",fn:function(){return[s("v-icon",{attrs:{tag:"a"},on:{click:function(e){return e.stopPropagation(),t.pickFile(e)},mousedown:function(t){t.stopPropagation()}}},[t._v("\n                        fas fa-camera\n                    ")])]},proxy:!0}]),model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}),s("input",{staticClass:"d-none",attrs:{accept:".jpg,.jpeg,.png",type:"file"},on:{change:t.onPickFile}})],1)],1),s("v-dialog",{attrs:{persistent:"",width:"512"},model:{value:t.isUploadDialogVisible,callback:function(e){t.isUploadDialogVisible=e},expression:"isUploadDialogVisible"}},[s("v-card",[s("v-card-title",{staticClass:"headline"},[t._v("\n                アップロード\n                "),s("v-spacer"),s("v-switch",{staticClass:"pt-0 mt-0",attrs:{"hide-details":"",label:"画像の公開"},model:{value:t.isPublic,callback:function(e){t.isPublic=e},expression:"isPublic"}})],1),s("v-card-text",{staticClass:"pb-0"},[s("v-row",{attrs:{justify:"center"}},[s("img",{attrs:{height:"192",src:t.imageFileUrl}})])],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(e){t.isUploadDialogVisible=!1}}},[t._v("\n                    キャンセル\n                ")]),s("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:t.onSubmitFile}},[t._v("\n                    一句詠む\n                ")])],1)],1)],1),s("v-overlay",{attrs:{value:t.isLoading,"z-index":"203"}},[s("loading-progress",{style:{transform:"scale(0.5)"},attrs:{"fill-duration":"2","hide-background":"",indeterminate:"",shape:"M230 377l-58-41h-1c-27-3-54 9-69 31-15 21-20 44-26 66-3 15-7 30-13 45-6 13-10 17-10 17l-3 5 5 2c24 12 56 13 89 4 34-9 62-28 80-53 16-22 18-51 6-75v-1zm-21 65a101 101 0 01-18 19c-11 8-24 5-16-12s-6-23-18-11c-16 14-23 2-20-5 3-8 13-19 4-26-5-4-11 2-22 11-6 4-19 3-14-18 3-8 7-15 12-22 11-16 29-25 48-24l50 35c7 18 5 38-6 53zM192 277a37 37 0 007 53l27 19a37 37 0 0052-11l25-38-83-59-28 36zM447 7V6c-15-10-37-7-48 8L230 228l81 58L457 55c10-16 6-37-10-48z",size:"512"}})],1)],1)},a=[],n={data:()=>({imageFileObj:null,imageFileUrl:null,isLoading:!1,isUploadDialogVisible:!1,isPublic:!0,keyword:""}),methods:{pickFile(){document.querySelector('[type="file"]').click()},onPickFile({target:t}){if(0===t.files.length)return;this.imageFileObj=t.files[0],t.value="";const e=new FileReader;e.addEventListener("load",()=>{this.imageFileUrl=e.result,this.isUploadDialogVisible=!0}),e.readAsDataURL(this.imageFileObj)},async onSubmit(){if(!this.isLoading&&""!==this.keyword){this.isLoading=!0;try{const{data:t}=await this.$axios.post("/api/senryus",{keyword:this.keyword});this.$router.push({name:"SenryuDetail",params:{id:t.id}})}catch(t){alert("川柳の作成に失敗しました。")}finally{this.isLoading=!1}}},async onSubmitFile(){if(!this.isLoading&&null!==this.imageFileUrl&&(!this.isPublic||confirm("アップロードされた画像が公開されますが、よろしいでしょうか？"))){this.isLoading=!0;try{const{data:t}=await this.$axios.post("/api/senryus",{image_file_url:this.imageFileUrl,is_public:this.isPublic});this.$router.push({name:"SenryuDetail",params:{id:t.id}})}catch(t){alert("川柳の作成に失敗しました。")}finally{this.isLoading=!1}}}}},l=n,o=(i("3ad6"),i("2877")),r=i("6544"),c=i.n(r),u=i("8336"),h=i("b0af"),d=i("99d9"),p=i("a523"),f=i("169a"),g=i("58df"),v=i("7e2b"),m=i("3206"),b=Object(g["a"])(v["a"],Object(m["b"])("form")).extend({name:"v-form",inheritAttrs:!1,props:{lazyValidation:Boolean,value:Boolean},data:()=>({inputs:[],watchers:[],errorBag:{}}),watch:{errorBag:{handler(t){const e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput(t){const e=t=>{return t.$watch("hasError",e=>{this.$set(this.errorBag,t._uid,e)},{immediate:!0})},i={_uid:t._uid,valid:()=>{},shouldValidate:()=>{}};return this.lazyValidation?i.shouldValidate=t.$watch("shouldValidate",s=>{s&&(this.errorBag.hasOwnProperty(t._uid)||(i.valid=e(t)))}):i.valid=e(t),i},validate(){return 0===this.inputs.filter(t=>!t.validate(!0)).length},reset(){this.inputs.forEach(t=>t.reset()),this.resetErrorBag()},resetErrorBag(){this.lazyValidation&&setTimeout(()=>{this.errorBag={}},0)},resetValidation(){this.inputs.forEach(t=>t.resetValidation()),this.resetErrorBag()},register(t){this.inputs.push(t),this.watchers.push(this.watchInput(t))},unregister(t){const e=this.inputs.find(e=>e._uid===t._uid);if(!e)return;const i=this.watchers.find(t=>t._uid===e._uid);i&&(i.valid(),i.shouldValidate()),this.watchers=this.watchers.filter(t=>t._uid!==e._uid),this.inputs=this.inputs.filter(t=>t._uid!==e._uid),this.$delete(this.errorBag,e._uid)}},render(t){return t("form",{staticClass:"v-form",attrs:{novalidate:!0,...this.attrs$},on:{submit:t=>this.$emit("submit",t)}},this.$slots.default)}}),y=i("132d"),w=i("a722"),V=i("a797"),C=i("0fd9"),k=i("2fa4"),_=(i("ec29"),i("9d01"),i("c37a")),j=i("5607"),S=i("2b0e"),x=S["a"].extend({name:"rippleable",directives:{ripple:j["a"]},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple(t={}){return this.ripple?(t.staticClass="v-input--selection-controls__ripple",t.directives=t.directives||[],t.directives.push({name:"ripple",value:{center:!0}}),t.on=Object.assign({click:this.onChange},this.$listeners),this.$createElement("div",t)):null},onChange(){}}}),$=i("8547"),O=Object(g["a"])(_["a"],x,$["a"]).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"accent"},isMultiple(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive(){const t=this.value,e=this.internalValue;return this.isMultiple?!!Array.isArray(e)&&e.some(e=>this.valueComparator(e,t)):void 0===this.trueValue||void 0===this.falseValue?t?this.valueComparator(t,e):Boolean(e):this.valueComparator(e,this.trueValue)},isDirty(){return this.isActive}},watch:{inputValue(t){this.lazyValue=t,this.hasColor=t}},methods:{genLabel(){const t=_["a"].options.methods.genLabel.call(this);return t?(t.data.on={click:t=>{t.preventDefault(),this.onChange()}},t):t},genInput(t,e){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:t,type:t},e),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown},ref:"input"})},onBlur(){this.isFocused=!1},onChange(){if(this.isDisabled)return;const t=this.value;let e=this.internalValue;if(this.isMultiple){Array.isArray(e)||(e=[]);const i=e.length;e=e.filter(e=>!this.valueComparator(e,t)),e.length===i&&e.push(t)}else e=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(e,this.trueValue)?this.falseValue:this.trueValue:t?this.valueComparator(e,t)?null:t:!e;this.validate(!0,e),this.internalValue=e,this.hasColor=e},onFocus(){this.isFocused=!0},onKeydown(t){}}}),E=i("80d2");const B=t=>{const{touchstartX:e,touchendX:i,touchstartY:s,touchendY:a}=t,n=.5,l=16;t.offsetX=i-e,t.offsetY=a-s,Math.abs(t.offsetY)<n*Math.abs(t.offsetX)&&(t.left&&i<e-l&&t.left(t),t.right&&i>e+l&&t.right(t)),Math.abs(t.offsetX)<n*Math.abs(t.offsetY)&&(t.up&&a<s-l&&t.up(t),t.down&&a>s+l&&t.down(t))};function F(t,e){const i=t.changedTouches[0];e.touchstartX=i.clientX,e.touchstartY=i.clientY,e.start&&e.start(Object.assign(t,e))}function D(t,e){const i=t.changedTouches[0];e.touchendX=i.clientX,e.touchendY=i.clientY,e.end&&e.end(Object.assign(t,e)),B(e)}function L(t,e){const i=t.changedTouches[0];e.touchmoveX=i.clientX,e.touchmoveY=i.clientY,e.move&&e.move(Object.assign(t,e))}function A(t){const e={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:t.left,right:t.right,up:t.up,down:t.down,start:t.start,move:t.move,end:t.end};return{touchstart:t=>F(t,e),touchend:t=>D(t,e),touchmove:t=>L(t,e)}}function X(t,e,i){const s=e.value,a=s.parent?t.parentElement:t,n=s.options||{passive:!0};if(!a)return;const l=A(e.value);a._touchHandlers=Object(a._touchHandlers),a._touchHandlers[i.context._uid]=l,Object(E["s"])(l).forEach(t=>{a.addEventListener(t,l[t],n)})}function Y(t,e,i){const s=e.value.parent?t.parentElement:t;if(!s||!s._touchHandlers)return;const a=s._touchHandlers[i.context._uid];Object(E["s"])(a).forEach(t=>{s.removeEventListener(t,a[t])}),delete s._touchHandlers[i.context._uid]}const P={inserted:X,unbind:Y};var z=P,U=i("0789"),M=i("490a"),T=O.extend({name:"v-switch",directives:{Touch:z},props:{inset:Boolean,loading:{type:[Boolean,String],default:!1},flat:{type:Boolean,default:!1}},computed:{classes(){return{..._["a"].options.computed.classes.call(this),"v-input--selection-controls v-input--switch":!0,"v-input--switch--flat":this.flat,"v-input--switch--inset":this.inset}},attrs(){return{"aria-checked":String(this.isActive),"aria-disabled":String(this.disabled),role:"switch"}},validationState(){return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":this.hasColor?this.computedColor:void 0},switchData(){return this.setTextColor(this.loading?void 0:this.validationState,{class:this.themeClasses})}},methods:{genDefaultSlot(){return[this.genSwitch(),this.genLabel()]},genSwitch(){return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.genInput("checkbox",{...this.attrs,...this.attrs$}),this.genRipple(this.setTextColor(this.validationState,{directives:[{name:"touch",value:{left:this.onSwipeLeft,right:this.onSwipeRight}}]})),this.$createElement("div",{staticClass:"v-input--switch__track",...this.switchData}),this.$createElement("div",{staticClass:"v-input--switch__thumb",...this.switchData},[this.genProgress()])])},genProgress(){return this.$createElement(U["c"],{},[!1===this.loading?null:this.$slots.progress||this.$createElement(M["a"],{props:{color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,size:16,width:2,indeterminate:!0}})])},onSwipeLeft(){this.isActive&&this.onChange()},onSwipeRight(){this.isActive||this.onChange()},onKeydown(t){(t.keyCode===E["r"].left&&this.isActive||t.keyCode===E["r"].right&&!this.isActive)&&this.onChange()}}}),I=i("8654"),R=Object(o["a"])(l,s,a,!1,null,"2781c0e6",null);e["default"]=R.exports;c()(R,{VBtn:u["a"],VCard:h["a"],VCardActions:d["a"],VCardText:d["b"],VCardTitle:d["c"],VContainer:p["a"],VDialog:f["a"],VForm:b,VIcon:y["a"],VLayout:w["a"],VOverlay:V["a"],VRow:C["a"],VSpacer:k["a"],VSwitch:T,VTextField:I["a"]})},cf05:function(t,e,i){t.exports=i.p+"img/logo.25e884be.png"},ec29:function(t,e,i){}}]);
//# sourceMappingURL=chunk-41ae1ca2.766aa0dc.js.map