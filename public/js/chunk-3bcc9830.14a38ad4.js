(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3bcc9830"],{"0bc6":function(t,e,i){},"1f09":function(t,e,i){},"2e8c":function(t,e,i){"use strict";var a=i("72ba"),s=i.n(a);s.a},3129:function(t,e,i){"use strict";i("1f09");var a=i("c995"),s=i("24b2"),n=i("7560"),r=i("58df"),o=i("80d2");e["a"]=Object(r["a"])(a["a"],s["a"],n["a"]).extend({name:"VSkeletonLoader",props:{boilerplate:Boolean,loading:Boolean,tile:Boolean,transition:String,type:String,types:{type:Object,default:()=>({})}},computed:{attrs(){return this.isLoading?this.boilerplate?{}:{"aria-busy":!0,"aria-live":"polite",role:"alert",...this.$attrs}:this.$attrs},classes(){return{"v-skeleton-loader--boilerplate":this.boilerplate,"v-skeleton-loader--is-loading":this.isLoading,"v-skeleton-loader--tile":this.tile,...this.themeClasses,...this.elevationClasses}},isLoading(){return Boolean(!Object(o["n"])(this)||this.loading)},rootTypes(){return{actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, card-heading","card-avatar":"image, list-item-avatar","card-heading":"heading",chip:"chip","date-picker":"list-item, card-heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",paragraph:"text@3",sentences:"text@2",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"heading, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"table-cell@6","table-cell":"text","table-tfoot":"text@2, avatar@2",text:"text",...this.types}}},methods:{genBone(t,e){return this.$createElement("div",{staticClass:`v-skeleton-loader__${t} v-skeleton-loader__bone`},e)},genBones(t){const[e,i]=t.split("@"),a=()=>this.genStructure(e);return Array.from({length:i}).map(a)},genStructure(t){let e=[];t=t||this.type||"";const i=this.rootTypes[t]||"";if(t===i);else{if(t.indexOf(",")>-1)return this.mapBones(t);if(t.indexOf("@")>-1)return this.genBones(t);i.indexOf(",")>-1?e=this.mapBones(i):i.indexOf("@")>-1?e=this.genBones(i):i&&e.push(this.genStructure(i))}return[this.genBone(t,e)]},genSkeleton(){const t=[],e=Object(o["n"])(this);return this.isLoading?t.push(this.genStructure()):t.push(e),this.transition?this.$createElement("transition",{props:{name:this.transition},on:{enter:t=>{this.isLoading&&(t.style.transition="none")},beforeLeave:t=>{t.style.display="none"}}},t):t},mapBones(t){return t.replace(/\s/g,"").split(",").map(this.genStructure)}},render(t){return t("div",{staticClass:"v-skeleton-loader",attrs:this.attrs,on:this.$listeners,class:this.classes,style:this.isLoading?this.measurableStyles:void 0},[this.genSkeleton()])}})},"4b85":function(t,e,i){},"72ba":function(t,e,i){},"75f4":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[t.isLoading?a("v-skeleton-loader",{attrs:{height:"600",tile:"",type:"image@3",width:"540"}}):a("flipper",{attrs:{flipped:t.isFlipped,height:"600px",width:"540px"},on:{click:function(e){t.isFlipped=!t.isFlipped}},scopedSlots:t._u([{key:"front",fn:function(){return[a("v-card",{style:{paddingTop:"111.111111111%"},attrs:{color:"white",height:"0",img:t.senryu.generated_image_url,raised:"",tag:"a",width:"540"}},[a("v-layout",{style:{position:"absolute",top:0,right:0,bottom:0,left:0},attrs:{column:"","fill-height":""}},[a("div",[a("v-layout",{staticClass:"ml-3 mt-2",attrs:{"align-center":""}},[a("v-icon",{staticClass:"mr-1",attrs:{color:"grey darken-1",size:"20"}},[t._v("\n                                    fas fa-history\n                                ")]),t._v("\n\n                                "+t._s(t.senryu.diff_from_created_at_to_now)+"\n                            ")],1)],1),a("v-layout",{attrs:{"align-end":"","justify-end":""}},[a("v-btn",{staticClass:"mr-4 mb-1",attrs:{color:"deep-orange",icon:"",large:"",loading:t.isLikeLoading,ripple:!1},on:{click:function(e){return e.stopPropagation(),t.likeSenryu(e)}}},[a("v-badge",{attrs:{color:"deep-orange"},scopedSlots:t._u([{key:"badge",fn:function(){return[t._v("\n                                        "+t._s(t.senryu.goods)+"\n                                    ")]},proxy:!0}])},[a("v-icon",[t._v("\n                                        "+t._s(t.senryu.is_liked?"fas":"far")+" fa-thumbs-up\n                                    ")])],1)],1),a("v-btn",{staticClass:"mr-2 mb-1",attrs:{color:"grey darken-3",icon:"",large:"",ripple:!1},on:{click:function(e){e.stopPropagation(),t.isShareDialogVisible=!0}}},[a("v-icon",[t._v("\n                                    fas fa-share\n                                ")])],1)],1)],1)],1)]},proxy:!0},{key:"back",fn:function(){return[a("v-card",{style:{paddingTop:"111.111111111%",backgroundSize:"contain"},attrs:{color:"white",height:"0",img:t.senryu.uploaded_image_url||i("cf05"),raised:"",tag:"a",width:"540"}})]},proxy:!0}])})],1),a("v-dialog",{attrs:{width:"288"},model:{value:t.isShareDialogVisible,callback:function(e){t.isShareDialogVisible=e},expression:"isShareDialogVisible"}},[a("v-card",[a("v-list",{attrs:{subheader:""}},[a("v-subheader",[t._v("\n                    シェアする\n                ")]),a("v-list-item",{on:{click:t.shareOnLine}},[a("v-list-item-icon",[a("v-icon",[t._v("\n                            fab fa-line\n                        ")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("\n                            LINEでシェアする\n                        ")])],1)],1),a("v-list-item",{on:{click:t.shareOnTwitter}},[a("v-list-item-icon",[a("v-icon",[t._v("\n                            fab fa-twitter-square\n                        ")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("\n                            Twitterでシェアする\n                        ")])],1)],1),a("v-list-item",{on:{click:t.copyUrl}},[a("v-list-item-icon",[a("v-icon",[t._v("\n                            fas fa-link\n                        ")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("\n                            リンクをコピーする\n                        ")])],1)],1)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.isShareDialogVisible=!1}}},[t._v("\n                    キャンセル\n                ")])],1)],1)],1),a("v-snackbar",{attrs:{color:"success"},model:{value:t.isCopySnackbarVisible,callback:function(e){t.isCopySnackbarVisible=e},expression:"isCopySnackbarVisible"}},[t._v("\n        コピーしました。\n    ")])],1)},s=[],n={props:{id:{type:Number}},data:()=>({isCopySnackbarVisible:!1,isFlipped:!1,isLikeLoading:!1,isLoading:!1,isShareDialogVisible:!1,senryu:{}}),created(){this.getSenryu()},methods:{async getSenryu(){this.isLoading=!0;try{const{data:t}=await this.$axios.get(`/api/senryus/${this.id}`);this.senryu=t}catch(t){alert("川柳の取得に失敗しました。")}finally{this.isLoading=!1}},async likeSenryu(){this.isLikeLoading=!0,this.senryu.is_liked?(this.senryu.is_liked=!this.senryu.is_liked,this.senryu.goods--):(this.senryu.is_liked=!this.senryu.is_liked,this.senryu.goods++);try{const{data:t}=await this.$axios.put(`/api/senryus/${this.id}`);this.senryu=t}catch(t){alert("川柳のいいねに失敗しました。")}finally{this.isLikeLoading=!1}},shareOnLine(){const t=new URL("https://social-plugins.line.me/lineit/share");t.searchParams.set("url",`${location.origin}${location.pathname}`),window.open(t.toString(),"_blank","width=500,height=560")},shareOnTwitter(){const t=new URL("https://twitter.com/intent/tweet");t.searchParams.set("text",`Saijikiが川柳を詠んだよ。\n${location.origin}${location.pathname}`),window.open(t.toString(),"_blank","width=480,height=360")},async copyUrl(){const t=`${location.origin}${location.pathname}`;await(async()=>{window.clipboardData?window.clipboardData.setData("Text",t):navigator.clipboard?await navigator.clipboard.writeText(t):(document.addEventListener("copy",(function e(i){this.removeEventListener(i.type,e),i.clipboardData.setData("text/plain",t),i.preventDefault()})),document.execCommand("copy"))})(),this.isCopySnackbarVisible=!0,this.isShareDialogVisible=!1}}},r=n,o=(i("2e8c"),i("2877")),l=i("6544"),c=i.n(l),d=(i("ff44"),i("a9ad")),h=i("f2e7"),u=i("fe6c"),p=i("2b0e"),v=p["a"].extend({name:"transitionable",props:{mode:String,origin:String,transition:String}}),g=i("58df"),b=Object(g["a"])(d["a"],h["a"],Object(u["b"])(["left","bottom"]),v).extend({name:"v-badge",props:{color:{type:String,default:"primary"},overlap:Boolean,transition:{type:String,default:"fab-transition"},value:{default:!0}},computed:{classes(){return{"v-badge--bottom":this.bottom,"v-badge--left":this.left,"v-badge--overlap":this.overlap}}},render(t){const e=this.$slots.badge&&[t("span",this.setBackgroundColor(this.color,{staticClass:"v-badge__badge",attrs:this.$attrs,directives:[{name:"show",value:this.isActive}]}),this.$slots.badge)];return t("span",{staticClass:"v-badge",class:this.classes},[this.$slots.default,this.transition?t("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},e):e])}}),f=i("8336"),m=i("b0af"),y=i("99d9"),k=i("a523"),w=i("169a"),S=i("ce7e"),_=i("132d"),x=i("a722"),L=i("8860"),$=i("da13"),C=i("5d23"),V=i("34c3"),O=i("3129"),B=(i("ca71"),i("d9bd")),j=Object(g["a"])(d["a"],h["a"],Object(u["b"])(["absolute","top","bottom","left","right"])).extend({name:"v-snackbar",props:{multiLine:Boolean,timeout:{type:Number,default:6e3},vertical:Boolean},data:()=>({activeTimeout:-1}),computed:{classes(){return{"v-snack--active":this.isActive,"v-snack--absolute":this.absolute,"v-snack--bottom":this.bottom||!this.top,"v-snack--left":this.left,"v-snack--multi-line":this.multiLine&&!this.vertical,"v-snack--right":this.right,"v-snack--top":this.top,"v-snack--vertical":this.vertical}}},watch:{isActive(){this.setTimeout()}},created(){this.$attrs.hasOwnProperty("auto-height")&&Object(B["d"])("auto-height",this)},mounted(){this.setTimeout()},methods:{setTimeout(){window.clearTimeout(this.activeTimeout),this.isActive&&this.timeout&&(this.activeTimeout=window.setTimeout(()=>{this.isActive=!1},this.timeout))}},render(t){return t("transition",{attrs:{name:"v-snack-transition"}},[this.isActive&&t("div",{staticClass:"v-snack",class:this.classes,on:this.$listeners},[t("div",this.setBackgroundColor(this.color,{staticClass:"v-snack__wrapper"}),[t("div",{staticClass:"v-snack__content"},this.$slots.default)])])])}}),T=i("2fa4"),D=i("e0c7"),A=Object(o["a"])(r,a,s,!1,null,"42dd8972",null);e["default"]=A.exports;c()(A,{VBadge:b,VBtn:f["a"],VCard:m["a"],VCardActions:y["a"],VContainer:k["a"],VDialog:w["a"],VDivider:S["a"],VIcon:_["a"],VLayout:x["a"],VList:L["a"],VListItem:$["a"],VListItemContent:C["a"],VListItemIcon:V["a"],VListItemTitle:C["c"],VSkeletonLoader:O["a"],VSnackbar:j,VSpacer:T["a"],VSubheader:D["a"]})},"8ce9":function(t,e,i){},a523:function(t,e,i){"use strict";i("20f6"),i("4b85");var a=i("e8f2"),s=i("d9f7");e["a"]=Object(a["a"])("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render(t,{props:e,data:i,children:a}){let n;const{attrs:r}=i;return r&&(i.attrs={},n=Object.keys(r).filter(t=>{if("slot"===t)return!1;const e=r[t];return t.startsWith("data-")?(i.attrs[t]=e,!1):e||"string"===typeof e})),e.id&&(i.domProps=i.domProps||{},i.domProps.id=e.id),t(e.tag,Object(s["a"])(i,{staticClass:"container",class:Array({"container--fluid":e.fluid}).concat(n||[])}),a)}})},a722:function(t,e,i){"use strict";i("20f6");var a=i("e8f2");e["a"]=Object(a["a"])("layout")},ca71:function(t,e,i){},ce7e:function(t,e,i){"use strict";i("8ce9");var a=i("7560");e["a"]=a["a"].extend({name:"v-divider",props:{inset:Boolean,vertical:Boolean},render(t){let e;return this.$attrs.role&&"separator"!==this.$attrs.role||(e=this.vertical?"vertical":"horizontal"),t("hr",{class:{"v-divider":!0,"v-divider--inset":this.inset,"v-divider--vertical":this.vertical,...this.themeClasses},attrs:{role:"separator","aria-orientation":e,...this.$attrs},on:this.$listeners})}})},cf05:function(t,e,i){t.exports=i.p+"img/logo.25e884be.png"},d9f7:function(t,e,i){"use strict";
/**
 * @copyright 2017 Alex Regan
 * @license MIT
 * @see https://github.com/alexsasharegan/vue-functional-data-merge
 */
function a(){const t={};let e,i,a=arguments.length;while(a--)for(e of Object.keys(arguments[a]))switch(e){case"class":case"style":case"directives":Array.isArray(t[e])||(t[e]=[]),t[e]=t[e].concat(arguments[a][e]);break;case"staticClass":if(!arguments[a][e])break;void 0===t[e]&&(t[e]=""),t[e]&&(t[e]+=" "),t[e]+=arguments[a][e].trim();break;case"on":case"nativeOn":t[e]||(t[e]={});const s=t[e];for(i of Object.keys(arguments[a][e]||{}))s[i]?s[i]=Array().concat(s[i],arguments[a][e][i]):s[i]=arguments[a][e][i];break;case"attrs":case"props":case"domProps":case"scopedSlots":case"staticStyle":case"hook":case"transition":t[e]||(t[e]={}),t[e]={...arguments[a][e],...t[e]};break;case"slot":case"key":case"ref":case"tag":case"show":case"keepAlive":default:t[e]||(t[e]=arguments[a][e])}return t}i.d(e,"a",(function(){return a}))},e0c7:function(t,e,i){"use strict";i("0bc6");var a=i("7560"),s=i("58df");e["a"]=Object(s["a"])(a["a"]).extend({name:"v-subheader",props:{inset:Boolean},render(t){return t("div",{staticClass:"v-subheader",class:{"v-subheader--inset":this.inset,...this.themeClasses},attrs:this.$attrs,on:this.$listeners},this.$slots.default)}})},e8f2:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var a=i("2b0e");function s(t){return a["a"].extend({name:`v-${t}`,functional:!0,props:{id:String,tag:{type:String,default:"div"}},render(e,{props:i,data:a,children:s}){a.staticClass=`${t} ${a.staticClass||""}`.trim();const{attrs:n}=a;if(n){a.attrs={};const t=Object.keys(n).filter(t=>{if("slot"===t)return!1;const e=n[t];return t.startsWith("data-")?(a.attrs[t]=e,!1):e||"string"===typeof e});t.length&&(a.staticClass+=` ${t.join(" ")}`)}return i.id&&(a.domProps=a.domProps||{},a.domProps.id=i.id),e(i.tag,a,s)}})}},ff44:function(t,e,i){}}]);
//# sourceMappingURL=chunk-3bcc9830.14a38ad4.js.map